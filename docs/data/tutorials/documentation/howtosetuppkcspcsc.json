{"hierarchy":{"reference":"doc:\/\/Documentation\/tutorials\/Tutorial-Table-of-Contents","modules":[{"reference":"doc:\/\/Documentation\/tutorials\/Tutorial-Table-of-Contents\/-----------------","projects":[{"reference":"doc:\/\/Documentation\/tutorials\/Documentation\/HowToSetUpPkcsPcsc","sections":[{"reference":"doc:\/\/Documentation\/tutorials\/Documentation\/HowToSetUpPkcsPcsc#%D0%A7%D1%82%D0%BE-%D1%82%D0%B0%D0%BA%D0%BE%D0%B5-%D0%A0%D1%83%D1%82%D0%BE%D0%BA%D0%B5%D0%BD-%D0%B8-%D0%BA%D0%B0%D0%BA-%D1%81-%D0%BD%D0%B8%D0%BC-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%82%D1%8C","kind":"task"},{"kind":"task","reference":"doc:\/\/Documentation\/tutorials\/Documentation\/HowToSetUpPkcsPcsc#%D0%93%D0%B4%D0%B5-%D0%B2%D0%B7%D1%8F%D1%82%D1%8C-%D0%B8-%D0%BA%D0%B0%D0%BA-%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%B8%D1%82%D1%8C-rtpkcs11ecp-%D0%B8-RtPcsc-%D0%B2-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82"},{"reference":"doc:\/\/Documentation\/tutorials\/Documentation\/HowToSetUpPkcsPcsc#%D0%9A%D0%B0%D0%BA-%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B8%D1%82%D1%8C-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82","kind":"task"},{"reference":"doc:\/\/Documentation\/tutorials\/Documentation\/HowToSetUpPkcsPcsc#%D0%9A%D0%B0%D0%BA-%D0%B2%D1%8B%D0%B7%D0%B2%D0%B0%D1%82%D1%8C-PKCS11","kind":"task"}]},{"reference":"doc:\/\/Documentation\/tutorials\/Documentation\/HowToSetUpNfc","sections":[]}]},{"projects":[{"sections":[],"reference":"doc:\/\/Documentation\/tutorials\/Documentation\/TokenSearch"},{"reference":"doc:\/\/Documentation\/tutorials\/Documentation\/TokenObjects","sections":[]}],"reference":"doc:\/\/Documentation\/tutorials\/Tutorial-Table-of-Contents\/------------------"},{"projects":[{"sections":[],"reference":"doc:\/\/Documentation\/tutorials\/Documentation\/OpenSslSetup"},{"sections":[],"reference":"doc:\/\/Documentation\/tutorials\/Documentation\/CmsSign"}],"reference":"doc:\/\/Documentation\/tutorials\/Tutorial-Table-of-Contents\/---------OpenSSL"}],"paths":[["doc:\/\/Documentation\/tutorials\/Tutorial-Table-of-Contents","doc:\/\/Documentation\/tutorials\/Tutorial-Table-of-Contents\/$volume","doc:\/\/Documentation\/tutorials\/Tutorial-Table-of-Contents\/-----------------"]]},"metadata":{"role":"project","title":"Первоначальная настройка проекта","categoryPathComponent":"Tutorial-Table-of-Contents","category":"Уроки Компании «Актив»"},"kind":"project","schemaVersion":{"major":0,"minor":3,"patch":0},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/tutorials\/documentation\/howtosetuppkcspcsc"]}],"sections":[{"image":"PkcsSetUpHeader.png","projectFiles":"RutokenSetupProjectSample.zip","backgroundImage":"PkcsSetUpHeader.png","chapter":"Настройка проекта","title":"Первоначальная настройка проекта","estimatedTimeInMinutes":15,"content":[{"type":"paragraph","inlineContent":[{"text":"В этом уроке вы узнаете, что такое Рутокен, как настроить свой проект для работы с ним и зачем нужны библиотеки rtpkcs11ecp и RtPcsc.","type":"text"}]}],"kind":"hero"},{"kind":"tasks","tasks":[{"contentSection":[{"kind":"contentAndMedia","content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Рутокен"}]},{"text":" - это устройство в форме USB-ключа или смарт-карты, на котором хранятся ключи и сертификаты для электронной подписи и аутентификации.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Для работы с Рутокеном используется "},{"identifier":"https:\/\/dev.rutoken.ru\/pages\/viewpage.action?pageId=2228260","isActive":true,"type":"reference"},{"type":"text","text":". На этом уровне взаимодействие происходит через "},{"type":"reference","isActive":true,"identifier":"https:\/\/dev.rutoken.ru\/display\/PUB\/APDU"},{"type":"text","text":", которые представляют собой байтовый массив, сформированный по определенным правилам."},{"text":" ","type":"text"},{"text":"Для удобства разработчика поверх PC\/SC используется протокол ","type":"text"},{"identifier":"https:\/\/dev.rutoken.ru\/pages\/viewpage.action?pageId=2228247","isActive":true,"type":"reference"},{"text":".","type":"text"}]},{"inlineContent":[{"inlineContent":[{"text":"PKCS#11","type":"text"}],"type":"strong"},{"text":" - это стандарт, который определяет более высокоуровневый API криптографических функций и абстракции для работы с токенами и объектами на них, такими как ключи и сертификаты.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"RtPcsc"}]},{"text":" и ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"rtpkcs11ecp"}]},{"text":" - это библиотеки, разработанные Компанией «Актив» для работы с Рутокеном по протоколам PC\/SC и PKCS#11.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"Подключить Рутокен к своему устройству вы можете через разные интерфейсы. На iOS и iPadOS мы поддерживаем работу через USB и NFC.","type":"text"}],"type":"paragraph"}],"mediaPosition":"trailing","media":"img1.png"}],"stepsSection":[],"anchor":"Что-такое-Рутокен-и-как-с-ним-работать","title":"Что такое Рутокен и как с ним работать"},{"stepsSection":[{"content":[{"inlineContent":[{"text":"В Xcode, в файловом навигаторе, выберите файл вашего проекта.","type":"text"}],"type":"paragraph"}],"type":"step","media":"img2.png","caption":[],"code":null,"runtimePreview":null},{"caption":[],"media":"img3.png","runtimePreview":null,"code":null,"content":[{"type":"paragraph","inlineContent":[{"text":"В списке целей и проектов снова выберите ваш проект.","type":"text"}]}],"type":"step"},{"type":"step","media":"img4.png","caption":[],"code":null,"runtimePreview":null,"content":[{"inlineContent":[{"type":"text","text":"Откройте вкладку "},{"inlineContent":[{"text":"Package Dependencies","type":"text"}],"type":"strong"},{"text":".","type":"text"}],"type":"paragraph"}]},{"caption":[],"media":"img5.png","content":[{"inlineContent":[{"type":"text","text":"Нажмите "},{"inlineContent":[{"text":"+","type":"text"}],"type":"strong"},{"text":", чтобы добавить новую зависимость.","type":"text"}],"type":"paragraph"}],"code":null,"runtimePreview":null,"type":"step"},{"type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Вставьте в поисковую строку адрес репозитория с SPM-пакетом библиотеки."}]}],"caption":[{"style":"note","name":"Для rtpkcs11ecp","content":[{"inlineContent":[{"type":"text","text":"https:\/\/github.com\/AktivCo\/swift-rtpkcs11ecp-binary.git"}],"type":"paragraph"}],"type":"aside"},{"content":[{"type":"paragraph","inlineContent":[{"text":"https:\/\/github.com\/AktivCo\/swift-rtpcsc-binary.git","type":"text"}]}],"type":"aside","name":"Для RtPcsc","style":"note"}],"media":"img6.png","code":null,"runtimePreview":null},{"media":"img7.png","runtimePreview":null,"type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Выберите желаемую версию библиотеки и стратегию ее обновления."}]}],"code":null,"caption":[]},{"media":"img8.png","code":null,"runtimePreview":null,"type":"step","caption":[],"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Нажмите кнопку "},{"type":"strong","inlineContent":[{"type":"text","text":"Add Package"}]},{"text":", чтобы добавить пакет.","type":"text"}]}]}],"contentSection":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Релизные версии библиотек в виде SPM-пакетов доступны на нашей странице на ","type":"text"},{"identifier":"https:\/\/github.com\/aktivco","isActive":true,"type":"reference"},{"text":".","type":"text"}]}],"kind":"contentAndMedia","mediaPosition":"trailing"}],"title":"Где взять и как добавить rtpkcs11ecp и RtPcsc в проект","anchor":"Где-взять-и-как-добавить-rtpkcs11ecp-и-RtPcsc-в-проект"},{"stepsSection":[{"runtimePreview":null,"caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Используйте для этого горячие клавиши "},{"inlineContent":[{"text":"⌘+N","type":"text"}],"type":"strong"},{"text":" или контекстное меню ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"File->File from template"}]},{"type":"text","text":"."}]}],"type":"step","media":"img9.png","code":null,"content":[{"type":"paragraph","inlineContent":[{"text":"Добавьте к цели, в которой хотите использовать библиотеку rtpkcs11ecp, новый файл.","type":"text"}]}]},{"type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"В качестве шаблона выберите "},{"inlineContent":[{"type":"text","text":"Header File"}],"type":"strong"},{"type":"text","text":" и назовите его в соответствии с принятой конвенцией “$(PRODUCT_MODULE_NAME)-Bridging-Header.h”. В нашем случае это будет “RutokenSdkSample-Bridging-Header”."}]}],"media":"img10.png","runtimePreview":null,"caption":[{"type":"paragraph","inlineContent":[{"text":"Добавленный файл — это ","type":"text"},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/importing-objective-c-into-swift","isActive":true},{"text":", который применяется для импорта Objective-C кода, использующегося в языке Swift. Поскольку библиотека rtpkcs11ecp имеет C-интерфейс, этот файл необходим для вызова методов библиотеки из Swift.","type":"text"}]}],"code":null},{"content":[{"inlineContent":[{"type":"text","text":"Добавьте в только что созданный файл импорт заголовочных файлов библиотеки rtpkcs11ecp."}],"type":"paragraph"}],"media":null,"code":"src2.swift","type":"step","runtimePreview":null,"caption":[]},{"media":"img11.png","content":[{"inlineContent":[{"type":"text","text":"В Xcode, в файловом навигаторе, выберите файл вашего проекта."}],"type":"paragraph"}],"type":"step","runtimePreview":null,"caption":[],"code":null},{"content":[{"inlineContent":[{"type":"text","text":"В списке целей и проектов выберите цель, в которой хотите использовать rtpkcs11ecp."}],"type":"paragraph"}],"runtimePreview":null,"caption":[],"type":"step","media":"img12.png","code":null},{"code":null,"runtimePreview":null,"type":"step","content":[{"inlineContent":[{"text":"Откройте вкладку ","type":"text"},{"inlineContent":[{"text":"Build Setting","type":"text"}],"type":"strong"},{"text":".","type":"text"}],"type":"paragraph"}],"caption":[],"media":"img13.png"},{"runtimePreview":null,"code":null,"content":[{"type":"paragraph","inlineContent":[{"text":"Введите в поисковую строку “Bridging”.","type":"text"}]}],"media":"img14.png","caption":[],"type":"step"},{"media":"img15.png","code":null,"runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"text":"В результатах поиска выберите параметр ","type":"text"},{"type":"strong","inlineContent":[{"text":"Objective-C Bridging Header","type":"text"}]},{"type":"text","text":"."}]}],"type":"step","caption":[]},{"caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"В нашем случае используются встроенные в Xcode переменные и путь будет таким: “$(PROJECT_DIR)\/$(PRODUCT_NAME)\/$(PRODUCT_MODULE_NAME)-Bridging-Header.h”."}]}],"code":null,"content":[{"type":"paragraph","inlineContent":[{"text":"В качестве значения параметра укажите путь до созданного ранее Bridging Header файла.","type":"text"}]}],"type":"step","media":"img16.png","runtimePreview":null}],"contentSection":[{"content":[{"inlineContent":[{"type":"text","text":"Перейдем к настройке проекта, чтобы иметь возможность работать с добавленными библиотеками."}],"type":"paragraph"}],"mediaPosition":"trailing","kind":"contentAndMedia"}],"title":"Как настроить проект","anchor":"Как-настроить-проект"},{"stepsSection":[{"code":"src3.swift","runtimePreview":null,"caption":[{"type":"paragraph","inlineContent":[{"text":"В нем мы опишем класс для работы с библиотекой.","type":"text"}]}],"type":"step","media":null,"content":[{"inlineContent":[{"type":"text","text":"Добавьте к цели новый файл типа "},{"inlineContent":[{"type":"text","text":"Swift File"}],"type":"strong"},{"type":"text","text":" и назовите его “MainViewModel.swift”."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Добавьте поля для отображения количества подключенных к устройству Рутокенов и текста ошибки в UI.","type":"text"}]}],"code":"src4.swift","type":"step","runtimePreview":null,"caption":[],"media":null},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Добавьте пока единственный метод, который будет использоваться вашим приложением."}]}],"type":"step","runtimePreview":null,"caption":[{"inlineContent":[{"text":"Подробнее о работе с библиотекой мы поговорим в следующих уроках. На данном этапе нам будет достаточно получить список Рутокенов, чтобы убедиться в том, что все настроено правильно.","type":"text"}],"type":"paragraph"}],"code":"src5.swift","media":null},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"В созданном методе проинициализируйте библиотеку."}]}],"type":"step","code":"src6.swift","media":null,"runtimePreview":null,"caption":[]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Получите список подключенных Рутокенов."}]}],"media":null,"caption":[],"runtimePreview":null,"code":"src7.swift","type":"step"},{"type":"step","content":[{"inlineContent":[{"text":"Финализируйте библиотеку, завершив работу с ней.","type":"text"}],"type":"paragraph"}],"media":null,"runtimePreview":null,"caption":[],"code":"src8.swift"},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Создайте еще один файл типа "},{"type":"strong","inlineContent":[{"text":"SwiftUI View","type":"text"}]},{"text":".","type":"text"}]}],"runtimePreview":null,"media":null,"code":"src9.swift","type":"step","caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"В нем мы опишем экран, отображающий информацию о подключенных Рутокенах."}]}]},{"caption":[],"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Добавьте отображение созданного экрана, заменив “ContentView” на экран, указаный в файле с инициализацией вашего приложения."}]}],"media":null,"type":"step","code":"src10.swift","runtimePreview":null},{"content":[{"type":"paragraph","inlineContent":[{"text":"В итоге должен получиться такой файл.","type":"text"}]}],"caption":[],"media":null,"code":"src11.swift","runtimePreview":null,"type":"step"},{"type":"step","media":"img17.png","code":null,"content":[{"inlineContent":[{"type":"text","text":"Теперь проверим, что все работает."},{"text":" ","type":"text"},{"type":"text","text":"Запустите приложение (горячие клавиши "},{"type":"strong","inlineContent":[{"type":"text","text":"⌘+R"}]},{"type":"text","text":") и подключите Рутокен к устройству. После загрузки приложения нажмите на кнопку "},{"type":"strong","inlineContent":[{"text":"Начать проверку","type":"text"}]},{"type":"text","text":"."}],"type":"paragraph"}],"caption":[],"runtimePreview":null},{"content":[{"inlineContent":[{"type":"text","text":"Если все сделано правильно, то количество Рутокенов на экране изменится с 0 на 1, а вы можете переходить к следующему уроку."}],"type":"paragraph"}],"caption":[],"media":"img18.png","code":null,"type":"step","runtimePreview":null}],"anchor":"Как-вызвать-PKCS11","contentSection":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Вызовем функции PKCS#11 и проверим отображение подключенных к устройству Рутокенов.","type":"text"}]}],"mediaPosition":"trailing","kind":"contentAndMedia"}],"title":"Как вызвать PKCS#11"}]},{"kind":"callToAction","abstract":[{"text":"TBA","type":"text"}],"title":"Как добавить поддержку NFC","action":{"identifier":"doc:\/\/Documentation\/tutorials\/Documentation\/HowToSetUpNfc","type":"reference","overridingTitleInlineContent":[{"type":"text","text":"Начало работы"}],"overridingTitle":"Начало работы","isActive":true},"featuredEyebrow":"Tutorial"}],"identifier":{"url":"doc:\/\/Documentation\/tutorials\/Documentation\/HowToSetUpPkcsPcsc","interfaceLanguage":"swift"},"references":{"src6.swift":{"content":["","import Foundation","","class MainViewModel: ObservableObject {","    @Published var numberOfSlots: Int = 0","    @Published var errorText: String?","","    func startApp() {","        var initArgs = CK_C_INITIALIZE_ARGS()","        initArgs.flags = UInt(CKF_OS_LOCKING_OK)","","        var rv = C_Initialize(&initArgs)","        guard rv == CKR_OK else {","            errorText = \"Произошла ошибка Pkcs: код \\(rv)\"","            return","        }","    }","}"],"type":"file","identifier":"src6.swift","fileType":"swift","highlights":[{"line":9},{"line":10},{"line":11},{"line":12},{"line":13},{"line":14},{"line":15},{"line":16}],"fileName":"MainViewModel.swift","syntax":"swift"},"doc://Documentation/tutorials/Documentation/OpenSslSetup":{"title":"Настройка работы с OpenSSL и RtEngine","kind":"project","identifier":"doc:\/\/Documentation\/tutorials\/Documentation\/OpenSslSetup","estimatedTime":"30мин","type":"topic","role":"project","abstract":[{"text":"TBA","type":"text"}],"url":"\/tutorials\/documentation\/opensslsetup"},"src7.swift":{"fileName":"MainViewModel.swift","syntax":"swift","type":"file","content":["","import Foundation","","class MainViewModel: ObservableObject {","    @Published var numberOfSlots: Int = 0","    @Published var errorText: String?","","    func startApp() {","        var initArgs = CK_C_INITIALIZE_ARGS()","        initArgs.flags = UInt(CKF_OS_LOCKING_OK)","","        var rv = C_Initialize(&initArgs)","        guard rv == CKR_OK else {","            errorText = \"Произошла ошибка Pkcs: код \\(rv)\"","            return","        }","","        var ctr: UInt = 0","        rv = C_GetSlotList(CK_BBOOL(CK_TRUE), nil, &ctr)","        guard rv == CKR_OK else {","            errorText = \"Произошла ошибка Pkcs: код \\(rv)\"","            return","        }","","        numberOfSlots = Int(ctr)","    }","}"],"identifier":"src7.swift","fileType":"swift","highlights":[{"line":17},{"line":18},{"line":19},{"line":20},{"line":21},{"line":22},{"line":23},{"line":24},{"line":25}]},"https://dev.rutoken.ru/pages/viewpage.action?pageId=2228260":{"titleInlineContent":[{"text":"протокол транспортного уровня PC\/SC","type":"text"}],"url":"https:\/\/dev.rutoken.ru\/pages\/viewpage.action?pageId=2228260","identifier":"https:\/\/dev.rutoken.ru\/pages\/viewpage.action?pageId=2228260","title":"протокол транспортного уровня PC\/SC","type":"link"},"img9.png":{"variants":[{"url":"\/images\/Documentation\/img9.png","traits":["1x","light"]},{"traits":["1x","dark"],"url":"\/images\/Documentation\/img9~dark.png"}],"identifier":"img9.png","alt":null,"type":"image"},"src3.swift":{"content":["","import Foundation","","class MainViewModel: ObservableObject {","}"],"type":"file","identifier":"src3.swift","fileType":"swift","highlights":[],"fileName":"MainViewModel.swift","syntax":"swift"},"doc://Documentation/tutorials/Tutorial-Table-of-Contents/-----------------":{"url":"\/tutorials\/tutorial-table-of-contents\/-----------------","role":"article","type":"topic","abstract":[],"title":"Настройка проекта","kind":"article","identifier":"doc:\/\/Documentation\/tutorials\/Tutorial-Table-of-Contents\/-----------------"},"src4.swift":{"type":"file","syntax":"swift","fileName":"MainViewModel.swift","highlights":[{"line":5},{"line":6}],"fileType":"swift","content":["","import Foundation","","class MainViewModel: ObservableObject {","    @Published var numberOfSlots: Int = 0","    @Published var errorText: String?","}"],"identifier":"src4.swift"},"doc://Documentation/tutorials/Documentation/HowToSetUpPkcsPcsc#%D0%9A%D0%B0%D0%BA-%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B8%D1%82%D1%8C-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82":{"role":"pseudoSymbol","type":"section","abstract":[{"text":"В этом уроке вы узнаете, что такое Рутокен, как настроить свой проект для работы с ним и зачем нужны библиотеки rtpkcs11ecp и RtPcsc.","type":"text"}],"identifier":"doc:\/\/Documentation\/tutorials\/Documentation\/HowToSetUpPkcsPcsc#%D0%9A%D0%B0%D0%BA-%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B8%D1%82%D1%8C-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82","title":"Как настроить проект","kind":"section","url":"\/tutorials\/documentation\/howtosetuppkcspcsc#%D0%9A%D0%B0%D0%BA-%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B8%D1%82%D1%8C-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82"},"RutokenSetupProjectSample.zip":{"checksum":"79026a38316059cf3872be650743fa3a88ba614179408f3cb3c7e883396ed0c899468b5931967df8f42254300f98c89b9de8c93c4bde5694a30b8eda1ad0f3d0","identifier":"RutokenSetupProjectSample.zip","type":"download","url":"\/downloads\/Documentation\/RutokenSetupProjectSample.zip"},"doc://Documentation/tutorials/Documentation/HowToSetUpPkcsPcsc#%D0%A7%D1%82%D0%BE-%D1%82%D0%B0%D0%BA%D0%BE%D0%B5-%D0%A0%D1%83%D1%82%D0%BE%D0%BA%D0%B5%D0%BD-%D0%B8-%D0%BA%D0%B0%D0%BA-%D1%81-%D0%BD%D0%B8%D0%BC-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%82%D1%8C":{"abstract":[{"text":"В этом уроке вы узнаете, что такое Рутокен, как настроить свой проект для работы с ним и зачем нужны библиотеки rtpkcs11ecp и RtPcsc.","type":"text"}],"title":"Что такое Рутокен и как с ним работать","type":"section","identifier":"doc:\/\/Documentation\/tutorials\/Documentation\/HowToSetUpPkcsPcsc#%D0%A7%D1%82%D0%BE-%D1%82%D0%B0%D0%BA%D0%BE%D0%B5-%D0%A0%D1%83%D1%82%D0%BE%D0%BA%D0%B5%D0%BD-%D0%B8-%D0%BA%D0%B0%D0%BA-%D1%81-%D0%BD%D0%B8%D0%BC-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%82%D1%8C","kind":"section","url":"\/tutorials\/documentation\/howtosetuppkcspcsc#%D0%A7%D1%82%D0%BE-%D1%82%D0%B0%D0%BA%D0%BE%D0%B5-%D0%A0%D1%83%D1%82%D0%BE%D0%BA%D0%B5%D0%BD-%D0%B8-%D0%BA%D0%B0%D0%BA-%D1%81-%D0%BD%D0%B8%D0%BC-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%82%D1%8C","role":"pseudoSymbol"},"doc://Documentation/tutorials/Documentation/CmsSign":{"title":"Создание CMS подписи","abstract":[{"type":"text","text":"TBA"}],"kind":"project","type":"topic","url":"\/tutorials\/documentation\/cmssign","role":"project","estimatedTime":"30мин","identifier":"doc:\/\/Documentation\/tutorials\/Documentation\/CmsSign"},"img6.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/Documentation\/img6.png"},{"traits":["1x","dark"],"url":"\/images\/Documentation\/img6~dark.png"}],"identifier":"img6.png","alt":null,"type":"image"},"https://dev.rutoken.ru/pages/viewpage.action?pageId=2228247":{"titleInlineContent":[{"type":"text","text":"PKCS#11"}],"url":"https:\/\/dev.rutoken.ru\/pages\/viewpage.action?pageId=2228247","title":"PKCS#11","type":"link","identifier":"https:\/\/dev.rutoken.ru\/pages\/viewpage.action?pageId=2228247"},"img2.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/Documentation\/img2.png"},{"url":"\/images\/Documentation\/img2~dark.png","traits":["1x","dark"]}],"identifier":"img2.png","type":"image","alt":null},"img15.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/Documentation\/img15.png"},{"traits":["1x","dark"],"url":"\/images\/Documentation\/img15~dark.png"}],"identifier":"img15.png","alt":null,"type":"image"},"src8.swift":{"fileName":"MainViewModel.swift","syntax":"swift","type":"file","content":["","import Foundation","","class MainViewModel: ObservableObject {","    @Published var numberOfSlots: Int = 0","    @Published var errorText: String?","","    func startApp() {","        var initArgs = CK_C_INITIALIZE_ARGS()","        initArgs.flags = UInt(CKF_OS_LOCKING_OK)","","        var rv = C_Initialize(&initArgs)","        guard rv == CKR_OK else {","            errorText = \"Произошла ошибка Pkcs: код \\(rv)\"","            return","        }","","        var ctr: UInt = 0","        rv = C_GetSlotList(CK_BBOOL(CK_TRUE), nil, &ctr)","        guard rv == CKR_OK else {","            errorText = \"Произошла ошибка Pkcs: код \\(rv)\"","            return","        }","","        numberOfSlots = Int(ctr)","        rv = C_Finalize(nil)","        guard rv == CKR_OK else {","            errorText = \"Произошла ошибка Pkcs: код \\(rv)\"","            return","        }","    }","}"],"identifier":"src8.swift","fileType":"swift","highlights":[{"line":26},{"line":27},{"line":28},{"line":29},{"line":30}]},"src9.swift":{"content":["import SwiftUI","","struct MainView: View {","    @StateObject var viewModel: MainViewModel = MainViewModel()","","    var body: some View {","        VStack(spacing: 10) {","            Text(\"Видно токенов: \\(viewModel.numberOfSlots)\")","            Button(\"Начать проверку\") {","                viewModel.startApp()","            }","            .buttonStyle(.bordered)","            if let error = viewModel.errorText {","                Text(error)","            }","        }","        .padding()","    }","}"],"type":"file","identifier":"src9.swift","fileType":"swift","highlights":[],"fileName":"MainView.swift","syntax":"swift"},"img12.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/Documentation\/img12.png"},{"url":"\/images\/Documentation\/img12~dark.png","traits":["1x","dark"]}],"identifier":"img12.png","type":"image","alt":null},"img16.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/Documentation\/img16.png"},{"traits":["1x","dark"],"url":"\/images\/Documentation\/img16~dark.png"}],"identifier":"img16.png","alt":null,"type":"image"},"src5.swift":{"type":"file","syntax":"swift","fileName":"MainViewModel.swift","highlights":[{"line":7},{"line":8},{"line":9}],"fileType":"swift","content":["","import Foundation","","class MainViewModel: ObservableObject {","    @Published var numberOfSlots: Int = 0","    @Published var errorText: String?","","    func startApp() {","    }","}"],"identifier":"src5.swift"},"doc://Documentation/tutorials/Documentation/HowToSetUpPkcsPcsc#%D0%9A%D0%B0%D0%BA-%D0%B2%D1%8B%D0%B7%D0%B2%D0%B0%D1%82%D1%8C-PKCS11":{"title":"Как вызвать PKCS#11","abstract":[{"type":"text","text":"В этом уроке вы узнаете, что такое Рутокен, как настроить свой проект для работы с ним и зачем нужны библиотеки rtpkcs11ecp и RtPcsc."}],"kind":"section","url":"\/tutorials\/documentation\/howtosetuppkcspcsc#%D0%9A%D0%B0%D0%BA-%D0%B2%D1%8B%D0%B7%D0%B2%D0%B0%D1%82%D1%8C-PKCS11","type":"section","role":"pseudoSymbol","identifier":"doc:\/\/Documentation\/tutorials\/Documentation\/HowToSetUpPkcsPcsc#%D0%9A%D0%B0%D0%BA-%D0%B2%D1%8B%D0%B7%D0%B2%D0%B0%D1%82%D1%8C-PKCS11"},"https://dev.rutoken.ru/display/PUB/APDU":{"titleInlineContent":[{"type":"text","text":"APDU-команды и APDU-ответы"}],"url":"https:\/\/dev.rutoken.ru\/display\/PUB\/APDU","identifier":"https:\/\/dev.rutoken.ru\/display\/PUB\/APDU","type":"link","title":"APDU-команды и APDU-ответы"},"img13.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/Documentation\/img13.png"},{"url":"\/images\/Documentation\/img13~dark.png","traits":["1x","dark"]}],"identifier":"img13.png","alt":null,"type":"image"},"doc://Documentation/tutorials/Documentation/HowToSetUpPkcsPcsc":{"role":"project","type":"topic","abstract":[{"text":"В этом уроке вы узнаете, что такое Рутокен, как настроить свой проект для работы с ним и зачем нужны библиотеки rtpkcs11ecp и RtPcsc.","type":"text"}],"identifier":"doc:\/\/Documentation\/tutorials\/Documentation\/HowToSetUpPkcsPcsc","estimatedTime":"15мин","title":"Первоначальная настройка проекта","kind":"project","url":"\/tutorials\/documentation\/howtosetuppkcspcsc"},"src11.swift":{"syntax":"swift","fileName":"RutokenSdkSampleApp.swift","type":"file","highlights":[{"line":7}],"content":["import SwiftUI","","@main","struct RutokenSdkSampleApp: App {","    var body: some Scene {","        WindowGroup {","            MainView()","        }","    }","}"],"fileType":"swift","identifier":"src11.swift"},"src2.swift":{"type":"file","syntax":"h","fileName":"RutokenSdkSample-Bridging-Header.h","highlights":[{"line":5},{"line":6},{"line":7}],"fileType":"h","content":["","#ifndef RutokenSdkSample_Bridging_Header_h","#define RutokenSdkSample_Bridging_Header_h","","#include <rtpkcs11ecp\/rtpkcs11.h>","#include <rtpkcs11ecp\/cryptoki.h>","","#endif \/* RutokenSdkSample_Bridging_Header_h *\/"],"identifier":"src2.swift"},"PkcsSetUpHeader.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/Documentation\/PkcsSetUpHeader.png"}],"identifier":"PkcsSetUpHeader.png","alt":null,"type":"image"},"img1.png":{"variants":[{"url":"\/images\/Documentation\/img1.png","traits":["1x","light"]},{"traits":["1x","dark"],"url":"\/images\/Documentation\/img1~dark.png"}],"identifier":"img1.png","type":"image","alt":"Схема работы с PKCS#11"},"doc://Documentation/tutorials/Tutorial-Table-of-Contents":{"title":"iOS SDK Рутокен","kind":"overview","url":"\/tutorials\/tutorial-table-of-contents","role":"overview","identifier":"doc:\/\/Documentation\/tutorials\/Tutorial-Table-of-Contents","abstract":[{"type":"text","text":"Руководство по встраиванию и использованию продуктов Компании «Актив» на устройствах под управлением iOS, iPadOS."}],"type":"topic"},"https://github.com/aktivco":{"titleInlineContent":[{"text":"GitHub","type":"text"}],"url":"https:\/\/github.com\/aktivco","title":"GitHub","type":"link","identifier":"https:\/\/github.com\/aktivco"},"img10.png":{"variants":[{"url":"\/images\/Documentation\/img10.png","traits":["1x","light"]},{"traits":["1x","dark"],"url":"\/images\/Documentation\/img10~dark.png"}],"identifier":"img10.png","alt":null,"type":"image"},"doc://Documentation/tutorials/Documentation/HowToSetUpNfc":{"abstract":[{"text":"TBA","type":"text"}],"title":"Как добавить поддержку NFC","type":"topic","identifier":"doc:\/\/Documentation\/tutorials\/Documentation\/HowToSetUpNfc","kind":"project","url":"\/tutorials\/documentation\/howtosetupnfc","role":"project","estimatedTime":"30мин"},"img3.png":{"variants":[{"url":"\/images\/Documentation\/img3.png","traits":["1x","light"]},{"traits":["1x","dark"],"url":"\/images\/Documentation\/img3~dark.png"}],"identifier":"img3.png","type":"image","alt":null},"https://developer.apple.com/documentation/swift/importing-objective-c-into-swift":{"titleInlineContent":[{"text":"Bridging Header","type":"text"}],"url":"https:\/\/developer.apple.com\/documentation\/swift\/importing-objective-c-into-swift","title":"Bridging Header","type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/importing-objective-c-into-swift"},"img18.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/Documentation\/img18.png"},{"traits":["1x","dark"],"url":"\/images\/Documentation\/img18~dark.png"}],"identifier":"img18.png","alt":null,"type":"image"},"doc://Documentation/tutorials/Documentation/HowToSetUpPkcsPcsc#%D0%93%D0%B4%D0%B5-%D0%B2%D0%B7%D1%8F%D1%82%D1%8C-%D0%B8-%D0%BA%D0%B0%D0%BA-%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%B8%D1%82%D1%8C-rtpkcs11ecp-%D0%B8-RtPcsc-%D0%B2-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82":{"kind":"section","type":"section","url":"\/tutorials\/documentation\/howtosetuppkcspcsc#%D0%93%D0%B4%D0%B5-%D0%B2%D0%B7%D1%8F%D1%82%D1%8C-%D0%B8-%D0%BA%D0%B0%D0%BA-%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%B8%D1%82%D1%8C-rtpkcs11ecp-%D0%B8-RtPcsc-%D0%B2-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82","title":"Где взять и как добавить rtpkcs11ecp и RtPcsc в проект","abstract":[{"text":"В этом уроке вы узнаете, что такое Рутокен, как настроить свой проект для работы с ним и зачем нужны библиотеки rtpkcs11ecp и RtPcsc.","type":"text"}],"identifier":"doc:\/\/Documentation\/tutorials\/Documentation\/HowToSetUpPkcsPcsc#%D0%93%D0%B4%D0%B5-%D0%B2%D0%B7%D1%8F%D1%82%D1%8C-%D0%B8-%D0%BA%D0%B0%D0%BA-%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%B8%D1%82%D1%8C-rtpkcs11ecp-%D0%B8-RtPcsc-%D0%B2-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82","role":"pseudoSymbol"},"doc://Documentation/tutorials/Tutorial-Table-of-Contents/------------------":{"title":"Работа с Рутокеном","kind":"article","url":"\/tutorials\/tutorial-table-of-contents\/------------------","role":"article","identifier":"doc:\/\/Documentation\/tutorials\/Tutorial-Table-of-Contents\/------------------","abstract":[],"type":"topic"},"img5.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/Documentation\/img5.png"},{"url":"\/images\/Documentation\/img5~dark.png","traits":["1x","dark"]}],"identifier":"img5.png","type":"image","alt":null},"img4.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/Documentation\/img4.png"},{"traits":["1x","dark"],"url":"\/images\/Documentation\/img4~dark.png"}],"identifier":"img4.png","alt":null,"type":"image"},"img14.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/Documentation\/img14.png"},{"url":"\/images\/Documentation\/img14~dark.png","traits":["1x","dark"]}],"identifier":"img14.png","type":"image","alt":null},"img7.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/Documentation\/img7.png"},{"traits":["1x","dark"],"url":"\/images\/Documentation\/img7~dark.png"}],"identifier":"img7.png","alt":null,"type":"image"},"img11.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/Documentation\/img11.png"},{"url":"\/images\/Documentation\/img11~dark.png","traits":["1x","dark"]}],"identifier":"img11.png","type":"image","alt":null},"src10.swift":{"syntax":"swift","fileName":"RutokenSdkSampleApp.swift","type":"file","highlights":[],"content":["import SwiftUI","","@main","struct RutokenSdkSampleApp: App {","    var body: some Scene {","        WindowGroup {","            ContentView()","        }","    }","}"],"fileType":"swift","identifier":"src10.swift"},"doc://Documentation/tutorials/Documentation/TokenSearch":{"abstract":[{"text":"TBA","type":"text"}],"title":"Обнаружение Рутокенов","type":"topic","identifier":"doc:\/\/Documentation\/tutorials\/Documentation\/TokenSearch","kind":"project","url":"\/tutorials\/documentation\/tokensearch","role":"project","estimatedTime":"30мин"},"doc://Documentation/tutorials/Documentation/TokenObjects":{"identifier":"doc:\/\/Documentation\/tutorials\/Documentation\/TokenObjects","role":"project","url":"\/tutorials\/documentation\/tokenobjects","kind":"project","type":"topic","title":"Поиск и создание объектов на Рутокене","estimatedTime":"30мин","abstract":[{"text":"TBA","type":"text"}]},"doc://Documentation/tutorials/Tutorial-Table-of-Contents/---------OpenSSL":{"kind":"article","type":"topic","title":"Работа с OpenSSL","url":"\/tutorials\/tutorial-table-of-contents\/---------openssl","abstract":[],"identifier":"doc:\/\/Documentation\/tutorials\/Tutorial-Table-of-Contents\/---------OpenSSL","role":"article"},"img8.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/Documentation\/img8.png"},{"traits":["1x","dark"],"url":"\/images\/Documentation\/img8~dark.png"}],"identifier":"img8.png","alt":null,"type":"image"},"img17.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/Documentation\/img17.png"},{"url":"\/images\/Documentation\/img17~dark.png","traits":["1x","dark"]}],"identifier":"img17.png","type":"image","alt":null}}}